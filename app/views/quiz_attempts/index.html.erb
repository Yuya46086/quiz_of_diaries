<h1>クイズ挑戦履歴</h1>

<% if @quiz_attempts.present? %>
  <table class="history-table">
    <thead>
      <tr>
        <th>日付</th>
        <th>出題</th>
        <th>あなたの解答</th>
        <th>正解</th>
        <th>結果</th>
        <th>獲得点</th>
      </tr>
    </thead>
    <tbody>
      <% @quiz_attempts.each do |attempt| %>
        <tr>
          <td><%= attempt.created_at.strftime("%Y/%m/%d %H:%M") %></td>
          <td><%= attempt.daily_quiz.question_text.truncate(30) %></td>
          <td><%= attempt.user_answer %></td>
          
          <td><%= attempt.daily_quiz.correct_answer %></td>
          
          <td class="<%= attempt.is_correct ? 'correct-answer' : 'incorrect-answer' %>">
            <%= attempt.is_correct ? '正解' : '不正解' %>
          </td>
          
          <td><%= attempt.score_awarded %>点</td>
        </tr>
      <% end %>
    </tbody>
  </table>
<% else %>
  <p>まだクイズに挑戦した履歴がありません。</p>
<% end %>